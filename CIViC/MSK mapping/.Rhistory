query <- dbSendQuery(mskdb, "select primarysite from sample where sourceid=13;")
library(RMySQL)
library(dplyr)
mskdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(mskdb, "select primarysite from sample where sourceid=13;")
sam_aber <- fetch(query, n=-1)
sample<- fetch(query, n=-1)
View(sample)
query <- dbSendQuery(mskdb, "select * from sample where sourceid=13;")
sample<- fetch(query, n=-1)
View(sample)
query <- dbSendQuery(mskdb, "select primarysite from sample where sourceid=13;")
sample<- fetch(query, n=-1)
View(sample)
primarysite <- table(sample)
primarysite
uni_site <- unique(sample)
View(uni_site)
query <- dbSendQuery(cosmicdb, "select primarysite, count(*) from sample where sourceid in (2,5) group by 1;")
cosmicdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(cosmicdb, "select primarysite, count(*) from sample where sourceid in (2,5) group by 1;")
sample<- fetch(query, n=-1)
View(sample)
mskdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(mskdb, "select primarysite, count(*) from sample where sourceid=13 group by 1;")
msksamp<- fetch(query, n=-1)
cosmicdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(cosmicdb, "select primarysite, count(*) from sample where sourceid in (2,5) group by 1;")
cosmicsamp<- fetch(query, n=-1)
## read civic database from mysql
library(RMySQL)
library(dplyr)
mskdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(mskdb, "select primarysite, count(*) from sample where sourceid=13 group by 1;")
msksamp<- fetch(query, n=-1)
cosmicdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(cosmicdb, "select primarysite, count(*) from sample where sourceid in (2,5) group by 1;")
cosmicsamp<- fetch(query, n=-1)
View(msksamp)
query <- dbSendQuery(mskdb, "select primarysite from sample where sourceid=13;")
sample<- fetch(query, n=-1)
uni.samp <- unique(sample)
View(uni.samp)
View(msksamp)
View(msksamp)
View(cosmicsamp)
write.csv(cosmicsample,file="cosmic",row.names=FALSE)
cosmicdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(cosmicdb, "select primarysite, count(*) from sample where sourceid in (2,5) group by 1;")
cosmicsamp<- fetch(query, n=-1)
### write out table
write.csv(cosmicsamp,file="cosmic",row.names=FALSE)
write.csv(cosmicsamp,file="cosmic.csv",row.names=FALSE)
write.csv(msksamp,file="msk.csv",row.names=FALSE)
merged <- left_join(msksamp,cosmicsamp, by='primarysite')
View(merged)
merged <- left_join(msksamp,cosmicsamp, by=toupper('primarysite'))
msksample$primarysite <- tolower(msksample$primarysite)
msksamp$primarysite <- tolower(msksamp$primarysite)
merged <- left_join(msksamp,cosmicsamp, by='primarysite')
View(merged)
write.csv(merged,file="msk.csv",row.names=FALSE)
tree <- read.table('tumor_tree.txt')
tree <- read.table('tumor_tree.txt', sep='\t')
tree <- read.table('tumor_tree.txt', sep='\t', header = T)
tree <- read.table('tumor_tree.txt', sep='', header = T)
tree <- read.table('tumor_tree.txt', sep='')
tree <- read.table('tumor_tree.txt', sep='', fill=TRUE,header=T)
tree <- read.table('tumor_tree.txt', sep='\t', fill=TRUE,header=T)
View(tree)
table(primary)
table(tree$primary)
View(cosmicsamp)
## read civic database from mysql
library(RMySQL)
library(dplyr)
mskdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(mskdb, "select primarysite, count(*) from sample where sourceid=13 group by 1;")
## by 1 means to group by the first column regardless of what it is called
msksamp<- fetch(query, n=-1)
cosmicdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(cosmicdb, "select primarysite, count(*) from sample where sourceid in (2,5) group by 1;")
cosmicsamp<- fetch(query, n=-1)
### write out table
# write.csv(cosmicsamp,file="cosmic.csv",row.names=FALSE)
# write.csv(merged,file="msk.csv",row.names=FALSE)
### merge table
msksamp$primarysite <- tolower(msksamp$primarysite)
merged <- left_join(msksamp,cosmicsamp, by='primarysite')
### read in tumor tree
tree <- read.table('tumor_tree.txt', sep='\t', fill=TRUE,header=T)
View(cosmicsamp)
View(msksamp)
View(tree)
## read civic database from mysql
library(RMySQL)
library(dplyr)
mskdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(mskdb, "select primarysite, primary histology, count(*) from sample where sourceid=13 group by primarysite, primary histology;")
library(RMySQL)
library(dplyr)
mskdb <- dbConnect(MySQL(), user="predicine", password="predicine", dbname="predicine", host="joy")
query <- dbSendQuery(mskdb, "select primarysite, primary histology, count(*) from sample where sourceid=13 group by primarysite, primaryhistology;")
tree <- read.table('tumor_tree.txt', sep='\t', fill=TRUE,header=T)
View(tree)
cosmic <- read.table('cosmic.csv')
View(cosmic)
a = matrix(c(1,1,1,2,2,3),ncol=2,byrow=TRUE)
A
a
tree <- read.table('tumor_tree.txt', sep='\t', fill=TRUE,header=T)
View(tree)
msk_2 <- read.csv("msk_2.csv")
View(msk_2)
table(msk_2$shorter_cosmic_term)
tree <- read.table('tumor_tree.txt', sep='\t', fill=TRUE,header=T)
View(tree)
